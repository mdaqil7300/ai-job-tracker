<div class="container py-4">

    <!-- Header -->
    <div class="d-flex flex-wrap justify-content-between align-items-start gap-3 mb-4">
        <div>
            <h4 class="mb-1">{{ pageTitle() }}</h4>
            <p class="text-muted mb-0">Add or update your job application</p>
        </div>

        <a class="btn btn-outline-dark" routerLink="/jobs">‚Üê Back</a>
    </div>

    <!-- Form Card -->
    <div class="card shadow-sm">
        <div class="card-body">
            <form [formGroup]="form" (ngSubmit)="onSubmit()">

                <!-- Company -->
                <div class="mb-3">
                    <label class="form-label fw-semibold">Company Name *</label>
                    <input type="text" class="form-control" formControlName="companyName" placeholder="e.g. Cisco" />

                    <div class="text-danger small mt-1" *ngIf="companyName.touched && companyName.invalid">
                        Company name is required (min 2 chars)
                    </div>
                </div>

                <!-- Role -->
                <div class="mb-3">
                    <label class="form-label fw-semibold">Role *</label>
                    <input type="text" class="form-control" formControlName="role"
                        placeholder="e.g. Senior Software Engineer - UI Angular" />

                    <div class="text-danger small mt-1" *ngIf="role.touched && role.invalid">
                        Role is required (min 2 chars)
                    </div>
                </div>

                <!-- Status -->
                <div class="mb-3">
                    <label class="form-label fw-semibold">Status *</label>
                    <select class="form-select" formControlName="status">
                        <option *ngFor="let s of statuses" [value]="s">
                            {{ s }}
                        </option>
                    </select>
                </div>

                <!-- Notes -->
                <div class="mb-4">
                    <label class="form-label fw-semibold">Notes</label>
                    <textarea class="form-control" formControlName="notes" rows="4"
                        placeholder="e.g. HR called, waiting for round 2..."></textarea>
                </div>

                <!-- Actions -->
                <div class="d-flex justify-content-end gap-2">
                    <button type="button" class="btn btn-outline-secondary" (click)="onCancel()">
                        Cancel
                    </button>

                    <button type="submit" class="btn btn-dark">
                        {{ isEditMode() ? 'Update Job' : 'Save Job' }}
                    </button>
                </div>

            </form>
        </div>
    </div>
</div>