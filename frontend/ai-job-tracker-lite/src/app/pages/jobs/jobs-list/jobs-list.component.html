<div class="page">
    <header class="header">
        <div>
            <h1>AI Job Tracker Lite</h1>
            <p>Track applications + prep interviews with AI</p>
        </div>

        <div class="top-actions">
            <a class="btn" routerLink="/ai">AI Helper</a>
            <a class="btn primary" routerLink="/jobs/add">+ Add Job</a>
        </div>
    </header>

    <section class="filters">
        <input type="text" placeholder="Search by company or role..."
            (input)="searchText.set(($any($event.target).value))" />

        <select (change)="selectedStatus.set(($any($event.target).value))">
            <option value="All">All</option>
            <option value="Applied">Applied</option>
            <option value="Interview">Interview</option>
            <option value="Offer">Offer</option>
            <option value="Rejected">Rejected</option>
        </select>
    </section>

    <section class="list">
        <div *ngIf="filteredJobs().length === 0" class="empty">
            No jobs found. Add your first application ðŸš€
        </div>

        <div *ngFor="let job of filteredJobs()" class="card">
            <div class="left">
                <h3>{{ job.companyName }}</h3>
                <p class="role">{{ job.role }}</p>

                <span [class]="getBadgeClass(job.status)">
                    {{ job.status }}
                </span>

                <p class="notes" *ngIf="job.notes">
                    {{ job.notes }}
                </p>
            </div>

            <div class="right">
                <a class="btn" [routerLink]="['/jobs/edit', job._id]">Edit</a>
                <button class="btn danger" (click)="onDelete(job._id)">Delete</button>
            </div>
        </div>
    </section>
</div>